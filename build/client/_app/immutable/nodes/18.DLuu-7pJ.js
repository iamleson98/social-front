import{s as Se,x as We,y as je,a as g,d as u,k as l,i as _e,n as P,A as st,e as h,t as ae,o as v,c as d,b as re,q as w,B as Le,f as o,C as xe,D as ge,G as nt,g as se,F as lt,z as ot,h as it}from"../chunks/scheduler.BdO_c8T1.js";import{S as ke,i as Be,b as ut,c as S,d as k,m as B,t as E,a as L,e as ft,f as I,g as mt}from"../chunks/index.DuQZmDCs.js";import{A as ct,d as pt}from"../chunks/forms.C96AWTIS.js";import{g as ht,i as dt,a as gt}from"../chunks/entry.wgEMl8FU.js";import{B as Pe}from"../chunks/Input.svelte_svelte_type_style_lang.DhSNKVHg.js";import{u as _t}from"../chunks/user.SBoXyvg1.js";import{A as Ge}from"../chunks/routes.B4_TBsYH.js";import{a as et,b as tt}from"../chunks/consts.JQ69i4O5.js";import{T as $t}from"../chunks/tabler--email.BoPF6KGG.js";import{T as bt,a as vt}from"../chunks/tabler--open-eye.COCm6DRh.js";import{T as wt}from"../chunks/tabler--lock.DlV_MiZe.js";import{I as ne}from"../chunks/icon.Cfg-3FdP.js";/* empty css                                                     */import{t as Et}from"../chunks/index.CiKvcTZw.js";function Tt(s){let e;return{c(){e=We("path"),this.h()},l(a){e=je(a,"path",{fill:!0,d:!0}),g(e).forEach(u),this.h()},h(){l(e,"fill","white"),l(e,"d","M18 2a1 1 0 0 1 .993.883L19 3v4a1 1 0 0 1-.883.993L18 8h-3v1h3a1 1 0 0 1 .991 1.131l-.02.112l-1 4a1 1 0 0 1-.858.75L17 15h-2v6a1 1 0 0 1-.883.993L14 22h-4a1 1 0 0 1-.993-.883L9 21v-6H7a1 1 0 0 1-.993-.883L6 14v-4a1 1 0 0 1 .883-.993L7 9h2V8a6 6 0 0 1 5.775-5.996L15 2z")},m(a,t){_e(a,e,t)},p:P,i:P,o:P,d(a){a&&u(e)}}}class At extends ke{constructor(e){super(),Be(this,e,null,Tt,Se,{})}}function Lt(s){let e;return{c(){e=We("path"),this.h()},l(a){e=je(a,"path",{fill:!0,d:!0}),g(e).forEach(u),this.h()},h(){l(e,"fill","white"),l(e,"d","M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1-1.265.06a6 6 0 1 0 2.103 6.836l.001-.004h-3.66a1 1 0 0 1-.992-.883L13 13v-2a1 1 0 0 1 1-1h6.945a1 1 0 0 1 .994.89q.06.55.061 1.11c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2")},m(a,t){_e(a,e,t)},p:P,i:P,o:P,d(a){a&&u(e)}}}class Pt extends ke{constructor(e){super(),Be(this,e,null,Lt,Se,{})}}function St(s){let e;return{c(){e=We("path"),this.h()},l(a){e=je(a,"path",{fill:!0,d:!0}),g(e).forEach(u),this.h()},h(){l(e,"fill","white"),l(e,"d","M14.058 3.41c-1.807.767-2.995 2.453-3.056 4.38L11 7.972l-.243-.023C8.365 7.68 6.259 6.437 4.813 4.418a1 1 0 0 0-1.685.092l-.097.186l-.049.099c-.719 1.485-1.19 3.29-1.017 5.203l.03.273c.283 2.263 1.5 4.215 3.779 5.679l.173.107l-.081.043c-1.315.663-2.518.952-3.827.9c-1.056-.04-1.446 1.372-.518 1.878c3.598 1.961 7.461 2.566 10.792 1.6c4.06-1.18 7.152-4.223 8.335-8.433l.127-.495c.238-.993.372-2.006.401-3.024l.003-.332l.393-.779l.44-.862l.214-.434l.118-.247c.265-.565.456-1.033.574-1.43l.014-.056l.008-.018c.22-.593-.166-1.358-.941-1.358l-.122.007a1 1 0 0 0-.231.057l-.086.038a8 8 0 0 1-.88.36l-.356.115l-.271.08l-.772.214c-1.336-1.118-3.144-1.254-5.012-.554l-.211.084z")},m(a,t){_e(a,e,t)},p:P,i:P,o:P,d(a){a&&u(e)}}}class kt extends ke{constructor(e){super(),Be(this,e,null,St,Se,{})}}function at(s){let e,a;return e=new ct({props:{variant:"error",content:s[0].error,classes:"mb-3"}}),{c(){S(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,m){B(e,t,m),a=!0},p(t,m){const M={};m&1&&(M.content=t[0].error),e.$set(M)},i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function Bt(s){let e=s[6]("auth.signin.signinButton")+"",a;return{c(){a=ae(e)},l(t){a=re(t,e)},m(t,m){_e(t,a,m)},p(t,m){m&64&&e!==(e=t[6]("auth.signin.signinButton")+"")&&se(a,e)},d(t){t&&u(a)}}}function It(s){let e,a;return e=new ne({props:{icon:At}}),{c(){S(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,m){B(e,t,m),a=!0},p:P,i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function Mt(s){let e,a;return e=new ne({props:{icon:Pt}}),{c(){S(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,m){B(e,t,m),a=!0},p:P,i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function Nt(s){let e,a;return e=new ne({props:{icon:kt}}),{c(){S(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,m){B(e,t,m),a=!0},p:P,i(t){a||(E(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function Dt(s){let e,a,t=s[6]("auth.signin.title")+"",m,M,K=s[0]&&s[0].status&&[et,tt].includes(s[0].status),F,T,c,f,Q,R,le,_,x,oe,i,X,N,Ie,$,$e,Me,V,O,Ne,Y,ie=s[6]("auth.signin.forgotPassword")+"",be,De,q,ee,ue=s[6]("auth.signin.rememberMe")+"",ve,He,D,Re,U,qe,Ue,fe,G,me=s[6]("auth.signin.noAccount")+"",we,ze,Z,ce=s[6]("auth.signup.title")+"",Ee,Ce,H,W,Fe,j,Ve,J,b,Oe,Je,p=K&&at(s);R=new ne({props:{icon:$t}}),N=new ne({props:{icon:wt}}),O=new ne({props:{icon:s[7][s[2]]}});function rt(r){s[13](r)}let Ke={variant:"filled",type:"submit",size:"sm",fullWidth:!0,disabled:s[5]||!s[3].trim()||!s[4],$$slots:{default:[Bt]},$$scope:{ctx:s}};return s[5]!==void 0&&(Ke.loading=s[5]),U=new Pe({props:Ke}),st.push(()=>ut(U,"loading",rt)),W=new Pe({props:{$$slots:{default:[It]},$$scope:{ctx:s}}}),j=new Pe({props:{$$slots:{default:[Mt]},$$scope:{ctx:s}}}),J=new Pe({props:{$$slots:{default:[Nt]},$$scope:{ctx:s}}}),{c(){e=h("div"),a=h("h1"),m=ae(t),M=v(),p&&p.c(),F=v(),T=h("form"),c=h("div"),f=h("label"),Q=h("span"),S(R.$$.fragment),le=v(),_=h("input"),oe=v(),i=h("label"),X=h("span"),S(N.$$.fragment),Ie=v(),$=h("input"),Me=v(),V=h("button"),S(O.$$.fragment),Ne=v(),Y=h("a"),be=ae(ie),De=v(),q=h("label"),ee=h("span"),ve=ae(ue),He=v(),D=h("input"),Re=v(),S(U.$$.fragment),Ue=v(),fe=h("div"),G=h("span"),we=ae(me),ze=v(),Z=h("a"),Ee=ae(ce),Ce=v(),H=h("div"),S(W.$$.fragment),Fe=v(),S(j.$$.fragment),Ve=v(),S(J.$$.fragment),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=g(e);a=d(n,"H1",{class:!0});var pe=g(a);m=re(pe,t),pe.forEach(u),M=w(n),p&&p.l(n),F=w(n),T=d(n,"FORM",{action:!0,method:!0});var z=g(T);c=d(z,"DIV",{class:!0});var A=g(c);f=d(A,"LABEL",{class:!0,for:!0});var y=g(f);Q=d(y,"SPAN",{});var he=g(Q);k(R.$$.fragment,he),he.forEach(u),le=w(y),_=d(y,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),y.forEach(u),oe=w(A),i=d(A,"LABEL",{class:!0,for:!0});var C=g(i);X=d(C,"SPAN",{});var de=g(X);k(N.$$.fragment,de),de.forEach(u),Ie=w(C),$=d(C,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),Me=w(C),V=d(C,"BUTTON",{type:!0,class:!0});var Qe=g(V);k(O.$$.fragment,Qe),Qe.forEach(u),C.forEach(u),Ne=w(A),Y=d(A,"A",{href:!0,class:!0});var Xe=g(Y);be=re(Xe,ie),Xe.forEach(u),De=w(A),q=d(A,"LABEL",{for:!0,class:!0});var Te=g(q);ee=d(Te,"SPAN",{class:!0});var Ye=g(ee);ve=re(Ye,ue),Ye.forEach(u),He=w(Te),D=d(Te,"INPUT",{type:!0,class:!0,id:!0,name:!0}),Te.forEach(u),Re=w(A),k(U.$$.fragment,A),A.forEach(u),Ue=w(z),fe=d(z,"DIV",{});var Ze=g(fe);G=d(Ze,"SPAN",{class:!0});var Ae=g(G);we=re(Ae,me),ze=w(Ae),Z=d(Ae,"A",{href:!0,class:!0});var ye=g(Z);Ee=re(ye,ce),ye.forEach(u),Ae.forEach(u),Ze.forEach(u),z.forEach(u),Ce=w(n),H=d(n,"DIV",{class:!0});var te=g(H);k(W.$$.fragment,te),Fe=w(te),k(j.$$.fragment,te),Ve=w(te),k(J.$$.fragment,te),te.forEach(u),n.forEach(u),this.h()},h(){var r,n;l(a,"class","p-2 mb-4"),l(_,"type","email"),l(_,"class","grow"),l(_,"name","email"),l(_,"id","email"),l(_,"placeholder",x=s[6]("auth.common.emailPlaceholder")),_.required=!0,_.disabled=s[5],l(f,"class","input input-md flex w-full input-bordered items-center gap-2 mb-3"),l(f,"for","email"),Le(f,"input-error",(r=s[0])==null?void 0:r.error),l($,"type",s[2]),l($,"name","password"),l($,"class","grow"),l($,"id","password"),l($,"placeholder",$e=s[6]("auth.common.passwordPlaceholder")),$.value=s[4],$.required=!0,$.disabled=s[5],l(V,"type","button"),l(V,"class","btn btn-xs btn-circle"),l(i,"class","input input-md flex w-full input-bordered items-center gap-2 mb-1"),l(i,"for","password"),Le(i,"input-error",(n=s[0])==null?void 0:n.error),l(Y,"href",Ge.AUTH_RESET_PASSWORD),l(Y,"class","text-[10px] text-right block text-blue-600 mb-4"),l(ee,"class","mr-2"),l(D,"type","checkbox"),l(D,"class","toggle toggle-xs toggle-info"),l(D,"id","remember-me"),l(D,"name","remember-me"),l(q,"for","remember-me"),l(q,"class","text-xs text-gray-500 select-none mr-1 mb-5 flex items-center"),l(c,"class","mb-3"),l(Z,"href",Ge.AUTH_REGISTER),l(Z,"class","text-blue-600"),l(G,"class","text-xs text-gray-500"),l(T,"action","?/signin"),l(T,"method","post"),l(H,"class","flex flex-row justify-between items-center"),l(e,"class","max-w-md min-w-80 rounded-md p-2")},m(r,n){_e(r,e,n),o(e,a),o(a,m),o(e,M),p&&p.m(e,null),o(e,F),o(e,T),o(T,c),o(c,f),o(f,Q),B(R,Q,null),o(f,le),o(f,_),xe(_,s[3]),o(c,oe),o(c,i),o(i,X),B(N,X,null),o(i,Ie),o(i,$),o(i,Me),o(i,V),B(O,V,null),o(c,Ne),o(c,Y),o(Y,be),o(c,De),o(c,q),o(q,ee),o(ee,ve),o(q,He),o(q,D),D.checked=s[1],o(c,Re),B(U,c,null),o(T,Ue),o(T,fe),o(fe,G),o(G,we),o(G,ze),o(G,Z),o(Z,Ee),o(e,Ce),o(e,H),B(W,H,null),o(H,Fe),B(j,H,null),o(H,Ve),B(J,H,null),b=!0,Oe||(Je=[ge(_,"input",s[11]),ge($,"keyup",s[9]),ge(V,"click",s[8]),ge(D,"change",s[12]),ge(T,"submit",nt(s[10]))],Oe=!0)},p(r,[n]){var C,de;(!b||n&64)&&t!==(t=r[6]("auth.signin.title")+"")&&se(m,t),n&1&&(K=r[0]&&r[0].status&&[et,tt].includes(r[0].status)),K?p?(p.p(r,n),n&1&&E(p,1)):(p=at(r),p.c(),E(p,1),p.m(e,F)):p&&(mt(),L(p,1,1,()=>{p=null}),ft()),(!b||n&64&&x!==(x=r[6]("auth.common.emailPlaceholder")))&&l(_,"placeholder",x),(!b||n&32)&&(_.disabled=r[5]),n&8&&_.value!==r[3]&&xe(_,r[3]),(!b||n&1)&&Le(f,"input-error",(C=r[0])==null?void 0:C.error),(!b||n&4)&&l($,"type",r[2]),(!b||n&64&&$e!==($e=r[6]("auth.common.passwordPlaceholder")))&&l($,"placeholder",$e),(!b||n&16&&$.value!==r[4])&&($.value=r[4]),(!b||n&32)&&($.disabled=r[5]);const pe={};n&4&&(pe.icon=r[7][r[2]]),O.$set(pe),(!b||n&1)&&Le(i,"input-error",(de=r[0])==null?void 0:de.error),(!b||n&64)&&ie!==(ie=r[6]("auth.signin.forgotPassword")+"")&&se(be,ie),(!b||n&64)&&ue!==(ue=r[6]("auth.signin.rememberMe")+"")&&se(ve,ue),n&2&&(D.checked=r[1]);const z={};n&56&&(z.disabled=r[5]||!r[3].trim()||!r[4]),n&16448&&(z.$$scope={dirty:n,ctx:r}),!qe&&n&32&&(qe=!0,z.loading=r[5],lt(()=>qe=!1)),U.$set(z),(!b||n&64)&&me!==(me=r[6]("auth.signin.noAccount")+"")&&se(we,me),(!b||n&64)&&ce!==(ce=r[6]("auth.signup.title")+"")&&se(Ee,ce);const A={};n&16384&&(A.$$scope={dirty:n,ctx:r}),W.$set(A);const y={};n&16384&&(y.$$scope={dirty:n,ctx:r}),j.$set(y);const he={};n&16384&&(he.$$scope={dirty:n,ctx:r}),J.$set(he)},i(r){b||(E(p),E(R.$$.fragment,r),E(N.$$.fragment,r),E(O.$$.fragment,r),E(U.$$.fragment,r),E(W.$$.fragment,r),E(j.$$.fragment,r),E(J.$$.fragment,r),b=!0)},o(r){L(p),L(R.$$.fragment,r),L(N.$$.fragment,r),L(O.$$.fragment,r),L(U.$$.fragment,r),L(W.$$.fragment,r),L(j.$$.fragment,r),L(J.$$.fragment,r),b=!1},d(r){r&&u(e),p&&p.d(),I(R),I(N),I(O),I(U),I(W),I(j),I(J),Oe=!1,ot(Je)}}}function Ht(s,e,a){let t;it(s,Et,i=>a(6,t=i));const m={password:bt,text:vt};let M=!1,K="password",F="",T="",c=!1,{form:f}=e;const Q=()=>a(2,K=K==="password"?"text":"password"),R=i=>a(4,T=i.currentTarget.value),le=async i=>{a(5,c=!0);const X=await fetch(i.currentTarget.action,{method:i.currentTarget.method,body:new FormData(i.currentTarget)}),N=pt(await X.text());N.type==="success"&&await dt(),gt(N),a(5,c=!1)};function _(){F=this.value,a(3,F)}function x(){M=this.checked,a(1,M)}function oe(i){c=i,a(5,c)}return s.$$set=i=>{"form"in i&&a(0,f=i.form)},s.$$.update=()=>{s.$$.dirty&1&&!(f!=null&&f.error)&&f!=null&&f.user&&(_t.set(f.user),ht(Ge.HOME,{invalidateAll:!0}))},[f,M,K,F,T,c,t,m,Q,R,le,_,x,oe]}class Xt extends ke{constructor(e){super(),Be(this,e,Ht,Dt,Se,{form:0})}}export{Xt as component};
