import{s as O,J as T,e as g,o as R,t as U,c as v,a as w,d as b,q as V,b as j,k as A,K as D,i as z,f as y,g as K,L as B}from"./scheduler.BdO_c8T1.js";import{S as G,i as Q,c as H,d as W,m as F,g as X,a as P,f as C,e as Y,t as N,h as $}from"./index.DuQZmDCs.js";import{S as q}from"./consts.JQ69i4O5.js";import{f as I}from"./alert.svelte_svelte_type_style_lang.Kh5NAE2M.js";import{p as Z,i as tt,a as et}from"./entry.wgEMl8FU.js";function at(a){let e,i,t,n,o,s,u,c,d;var p=q[a[1]];function h(r,f){return{}}return p&&(t=T(p,h())),{c(){e=g("div"),i=g("span"),t&&H(t.$$.fragment),n=R(),o=g("p"),s=U(a[0]),this.h()},l(r){e=v(r,"DIV",{class:!0});var f=w(e);i=v(f,"SPAN",{class:!0});var m=w(i);t&&W(t.$$.fragment,m),m.forEach(b),n=V(f),o=v(f,"P",{});var _=w(o);s=j(_,a[0]),_.forEach(b),f.forEach(b),this.h()},h(){A(i,"class","text-2xl"),A(e,"class",u=D(`text-xs alert-${a[1]} flex gap-2 items-center rounded p-2 ${a[2]}`)+" svelte-y1gk93")},m(r,f){z(r,e,f),y(e,i),t&&F(t,i,null),y(e,n),y(e,o),y(o,s),d=!0},p(r,[f]){if(f&2&&p!==(p=q[r[1]])){if(t){X();const m=t;P(m.$$.fragment,1,0,()=>{C(m,1)}),Y()}p?(t=T(p,h()),H(t.$$.fragment),N(t.$$.fragment,1),F(t,i,null)):t=null}(!d||f&1)&&K(s,r[0]),(!d||f&6&&u!==(u=D(`text-xs alert-${r[1]} flex gap-2 items-center rounded p-2 ${r[2]}`)+" svelte-y1gk93"))&&A(e,"class",u)},i(r){d||(t&&N(t.$$.fragment,r),r&&B(()=>{d&&(c||(c=$(e,I,{},!0)),c.run(1))}),d=!0)},o(r){t&&P(t.$$.fragment,r),r&&(c||(c=$(e,I,{},!1)),c.run(0)),d=!1},d(r){r&&b(e),t&&C(t),r&&c&&c.end()}}}function nt(a,e,i){let{content:t=""}=e,{variant:n="info"}=e,{classes:o=""}=e;return a.$$set=s=>{"content"in s&&i(0,t=s.content),"variant"in s&&i(1,n=s.variant),"classes"in s&&i(2,o=s.classes)},[t,n,o]}class ft extends G{constructor(e){super(),Q(this,e,nt,at,O,{content:0,variant:1,classes:2})}}function rt(a){const e=JSON.parse(a);return e.data&&(e.data=Z(e.data)),e}function E(a){return HTMLElement.prototype.cloneNode.call(a)}function mt(a,e=()=>{}){const i=async({action:n,result:o,reset:s=!0,invalidateAll:u=!0})=>{o.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(a),u&&await tt()),(location.origin+location.pathname===n.origin+n.pathname||o.type==="redirect"||o.type==="error")&&et(o)};async function t(n){var _,x,k,L,S;if(((_=n.submitter)!=null&&_.hasAttribute("formmethod")?n.submitter.formMethod:E(a).method)!=="post")return;n.preventDefault();const s=new URL((x=n.submitter)!=null&&x.hasAttribute("formaction")?n.submitter.formAction:E(a).action),u=(k=n.submitter)!=null&&k.hasAttribute("formenctype")?n.submitter.formEnctype:E(a).enctype,c=new FormData(a),d=(L=n.submitter)==null?void 0:L.getAttribute("name");d&&c.append(d,((S=n.submitter)==null?void 0:S.getAttribute("value"))??"");const p=new AbortController;let h=!1;const f=await e({action:s,cancel:()=>h=!0,controller:p,formData:c,formElement:a,submitter:n.submitter})??i;if(h)return;let m;try{const l=new Headers({accept:"application/json","x-sveltekit-action":"true"});u!=="multipart/form-data"&&l.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(u)?u:"application/x-www-form-urlencoded");const J=u==="multipart/form-data"?c:new URLSearchParams(c),M=await fetch(s,{method:"POST",headers:l,cache:"no-store",body:J,signal:p.signal});m=rt(await M.text()),m.type==="error"&&(m.status=M.status)}catch(l){if((l==null?void 0:l.name)==="AbortError")return;m={type:"error",error:l}}f({action:s,formData:c,formElement:a,update:l=>i({action:s,result:m,reset:l==null?void 0:l.reset,invalidateAll:l==null?void 0:l.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",t),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",t)}}}export{ft as A,rt as d,mt as e};
